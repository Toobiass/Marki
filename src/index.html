<!DOCTYPE html>
<html>

<head>
    <style>
        ::-webkit-scrollbar {
            width: 10px;
            background-color: transparent;
        }

        ::-webkit-scrollbar-track {
            background-color: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background-color: rgba(121, 121, 121, 0.2);
            border-radius: 0px;
            border: 2px solid transparent;
            background-clip: content-box;
        }

        .pane:hover::-webkit-scrollbar-thumb {
            background-color: rgba(121, 121, 121, 0.4);
        }

        ::-webkit-scrollbar-thumb:active {
            background-color: rgba(121, 121, 121, 0.7);
        }

        ::-webkit-scrollbar-corner {
            background: transparent;
        }

        :root {
            --bg-dark: #121212;
            --bg-editor: #1e1e1e;
            --text-main: #d4d4d4;
            --accent: #007acc;
            --border: #333333;
        }

        body {
            margin: 0;
            padding: 0;
            background: var(--bg-dark);
            color: var(--text-main);
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            font-family: 'Segoe UI', sans-serif;
        }

        .main-container {
            display: flex;
            width: 100%;
            height: 100%;
        }

        .pane {
            flex: 1;
            width: 50%;
            max-width: 50%;
            height: 100vh;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
        }

        .editor-pane {
            background: var(--bg-editor);
            border-right: 1px solid var(--border);
        }

        .preview-pane {
            background: var(--bg-editor);
        }

        textarea {
            width: 100%;
            height: 100%;
            background: transparent;
            color: var(--text-main);
            border: none;
            padding: 40px;
            font-size: 16px;
            font-family: 'Consolas', monospace;
            resize: none;
            outline: none;
            box-sizing: border-box;
        }

        #preview {
            padding: 40px;
            line-height: 1.6;
            word-wrap: break-word;
        }
    </style>
</head>

<body>
    <div class="main-container">
        <div class="pane editor-pane">
            <textarea id="editor" placeholder="Schreib hier..."></textarea>
        </div>

        <div class="pane preview-pane">
            <div id="preview"></div>
        </div>
    </div>
</body>

</html>
<script>
    const editor = document.getElementById('editor');
    const preview = document.getElementById('preview');

    if (editor && preview) {
        editor.addEventListener('input', () => {
            preview.innerText = editor.value;
        });
    }

    document.addEventListener('keydown', async (e) => {
        if (e.ctrlKey && e.key.toLowerCase() === 'p') {
            e.preventDefault();

            const filePath = await window.electronAPI.selectFolder();
            window.electronAPI.log("Dialog-Ergebnis: " + filePath);

            if (filePath) {
                localStorage.setItem('marki-path', filePath);
                window.electronAPI.log("Erfolgreich gespeichert!");
            }
        }
    });

    window.onload = () => {
        const savedPath = localStorage.getItem('marki-path');

        if (savedPath) {
            window.electronAPI.log("Willkommen zur√ºck! Pfad ist: " + savedPath);
        } else {
            window.electronAPI.log("Kein Pfad im Speicher gefunden.");
        }
    }
</script>